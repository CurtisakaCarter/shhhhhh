#include <iostream>
#include <string>

// Function to clear the console screen
void clearScreen() {
    std::cout << "\033[2J\033[H";
}

int main() {
    const std::string correctPassword = "CURSED";
    int attemptsRemaining = 3;

    while (attemptsRemaining > 0) {
        clearScreen(); // Clear the console screen

        // Display the interface
        std::cout << "\033[1;31m"; // Set text color to red
        std::cout << "==============================\n";
        std::cout << "          PASSWORD GAME        \n";
        std::cout << "==============================\n\n";

        std::cout << "\033[1;37m"; // Set text color to white
        std::cout << "Attempts remaining: " << attemptsRemaining << "\n\n";
        std::cout << "         Enter password       \n\n";

        std::string userGuess;
        std::cout << "> ";
        std::cin >> userGuess;

        // Check if the password is correct
        if (userGuess == correctPassword) {
            clearScreen();
            std::cout << "\033[1;32m"; // Set text color to green
            std::cout << "Congratulations! You guessed the correct password.\n";
            break;
        } else {
            attemptsRemaining--;

            // Display remaining attempts
            std::cout << "\033[1;33m"; // Set text color to yellow
            std::cout << "\nIncorrect password. Attempts remaining: " << attemptsRemaining << "\n";

            // Check if attempts are exhausted
            if (attemptsRemaining == 0) {
                clearScreen();
                std::cout << "\033[1;31m"; // Set text color to red
                std::cout << "Sorry, you've run out of attempts. The correct password was '" << correctPassword << "'.\n";
            }

            // Pause for a moment before clearing the screen
            std::this_thread::sleep_for(std::chrono::seconds(1));
        }
    }

    return 0;
}
